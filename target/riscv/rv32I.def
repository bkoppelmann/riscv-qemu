# AArch64 SVE instruction descriptions
#
#  Copyright (c) 2017 Linaro, Ltd
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 2 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, see <http://www.gnu.org/licenses/>.

#
# This file is processed by scripts/decodetree.py
#

###########################################################################
# Immediates

%immI           20:5 25:s7
%immS           7:5 25:s7
%immB           8:4 25:6 7:1 31:s1 !function=expand_imm_B
%immU           12:8 20:12 !function=expand_imm_UJ
%immJ           21:4 25:6 20:1 12:8 31:s1 !function=expand_imm_UJ


###########################################################################
# Formats

&rss          rd  rs1 rs2
&rsa          rd  rs1 shamt
&rsi          rd  rs1 imm
&ssi          rs1 rs2 imm
&ri           rd  imm
&rscsr        rd  rs1 csr


@R    ....... rs2:5   rs1:5 ... rd:5  ....... &rss
@RS   ....... shamt:5 rs1:5 ... rd:5  ....... &rsa
@I    ....... .....   rs1:5 ... rd:5  ....... &rsi imm=%immI
@ICSR csr:12          rs1:5 ... rd:5  ....... &rscsr
@S    ....... rs2:5   rs1:5 ... ..... ....... &ssi imm=%immS
@B    ....... rs2:5   rs1:5 ... ..... ....... &ssi imm=%immB
@U    ....... .....   ..... ... rd:5  ....... &ri  imm=%immU
@J    ....... .....   ..... ... rd:5  ....... &ri  imm=%immJ

###########################################################################
# Instructions

LUI    ....... .......... ... ..... 0110111 @U
AUIPC  ....... .......... ... ..... 0010111 @U
JAL    ....... .......... ... ..... 1101111 @J
JALR   ....... .......... 000 ..... 1100111 @I
BEQ    ....... .......... 000 ..... 1100011 @B
BNE    ....... .......... 001 ..... 1100011 @B
BLT    ....... .......... 100 ..... 1100011 @B
BGE    ....... .......... 101 ..... 1100011 @B
BLTU   ....... .......... 110 ..... 1100011 @B
BGEU   ....... .......... 111 ..... 1100011 @B
LB     ....... .......... 000 ..... 0000011 @I
LH     ....... .......... 001 ..... 0000011 @I
LW     ....... .......... 010 ..... 0000011 @I
LBU    ....... .......... 100 ..... 0000011 @I
LHU    ....... .......... 101 ..... 0000011 @I
SB     ....... .......... 000 ..... 0100011 @S
SH     ....... .......... 001 ..... 0100011 @S
SW     ....... .......... 010 ..... 0100011 @S
ADDI   ....... .......... 000 ..... 0010011 @I
SLTI   ....... .......... 010 ..... 0010011 @I
SLTIU  ....... .......... 011 ..... 0010011 @I
XORI   ....... .......... 100 ..... 0010011 @I
ORI    ....... .......... 110 ..... 0010011 @I
ANDI   ....... .......... 111 ..... 0010011 @I
SLLI   0000000 .......... 001 ..... 0010011 @RS
SRLI   0000000 .......... 101 ..... 0010011 @RS
SRAI   0100000 .......... 101 ..... 0010011 @RS
ADD    0000000 .......... 000 ..... 0110011 @R
SUB    0100000 .......... 000 ..... 0110011 @R
SLL    0000000 .......... 001 ..... 0110011 @R
SLT    0000000 .......... 010 ..... 0110011 @R
SLTU   0000000 .......... 011 ..... 0110011 @R
XOR    0000000 .......... 100 ..... 0110011 @R
SRL    0000000 .......... 101 ..... 0110011 @R
SRA    0100000 .......... 101 ..... 0110011 @R
OR     0000000 .......... 110 ..... 0110011 @R
AND    0000000 .......... 111 ..... 0110011 @R
FENCE  0000 pred:4 succ:4 00000 000 00000 0001111
FENCEI 0000000 0000000000 001 00000 0001111
ECALL  0000000 0000000000 000 00000 1110011
EBREAK 0000000 0000100000 000 00000 1110011
CSRRW  ....... .......... 001 ..... 1110011 @ICSR
CSRRS  ....... .......... 010 ..... 1110011 @ICSR
CSRRC  ....... .......... 011 ..... 1110011 @ICSR
CSRRWI ....... .......... 101 ..... 1110011 @ICSR
CSRRSI ....... .......... 110 ..... 1110011 @ICSR
CSRRCI ....... .......... 111 ..... 1110011 @ICSR

CJR    100 0 00000 0 00000 10
